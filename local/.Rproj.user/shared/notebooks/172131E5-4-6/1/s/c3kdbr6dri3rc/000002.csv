"0","set.seed(123)"
"0","A <- matrix(rnorm(1e4*4, sd = sqrt(1)), ncol = 1e4)"
"0","B <- matrix(rnorm(1e2*4, sd = sqrt(1)), ncol = 1e2)"
"0","E <- matrix(rnorm(1e4*1e2, sd = sqrt(1e-2)), ncol = 1e2)"
"0","aux <- t(A) %*% B"
"0","aux <- 1/(1+exp(-aux))"
"0","obs <- aux + E"
"0","obs <- ifelse(obs < 0, 0, obs)"
"0","obs <- ifelse(obs > 1, 1, obs)"
"0","obs <- floor(10*obs)/10"
"0","obs <- 10*obs"
"0","W <- matrix(sample(0:2, 1e4*1e2, prob = c(0.9, 0.07, 0.03), replace = TRUE), ncol = 1e2)"
"0","strain <- data.frame(User.ID = c(), ISBN = c(), Book.Rating = c())"
"0","stest <- data.frame(User.ID = c(), ISBN = c(), Book.Rating = c())"
"0","for(i in 1:1e4){"
"0","  for(j in 1:1e2){"
"0","    if(W[i, j] == 1){#train"
"0","      strain <- rbind(strain, c(i, j, obs[i, j]))"
"0","    }"
"0","    if(W[i, j] == 2){#test"
"0","      stest <- rbind(stest, c(i, j, obs[i, j]))"
"0","    }"
"0","  }"
"0","}"
"0","colnames(strain) <- c(""User.ID"", ""ISBN"", ""Book.Rating"")"
"0","colnames(stest) <- c(""User.ID"", ""ISBN"", ""Book.Rating"")"
"0","write.csv(strain, file = ""archive/strain.csv"")"
"0","write.csv(stest, file = ""archive/stest.csv"")"
