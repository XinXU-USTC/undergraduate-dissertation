"0","train <- NULL"
"0","test <- NULL"
"0",""
"0","for(user in user.Rating$User.ID){"
"0","  idx <- which(Ratings$User.ID == user)"
"0","  n <- length(idx)"
"0","  n.train <- ceiling(n*0.7)"
"0","  if(length(idx) > 1){"
"0","    idx.train <- sample(idx, size = n.train)"
"0","    idx.test <- setdiff(idx, idx.train)"
"0","    train.aux <- Ratings[idx.train, ]"
"0","    test.aux <- Ratings[idx.test, ]"
"0","    train <- rbind(train, train.aux)"
"0","    test <- rbind(test, test.aux)"
"0","  }else{"
"0","    train.aux <- Ratings[idx, ]"
"0","    train <- rbind(train, train.aux)"
"0","  }"
"0","}"
"0",""
"0","write.csv(train, file = ""train0.csv"")"
"0","write.csv(test, file = ""test0.csv"")"
